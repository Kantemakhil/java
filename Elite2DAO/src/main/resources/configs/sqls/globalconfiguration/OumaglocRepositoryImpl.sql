
OUMAGLOC_FIND_RGPHONETYPE {
 	SELECT REF_CODE.DESCRIPTION ,        REF_CODE.CODE   FROM REFERENCE_CODES REF_CODE  WHERE DOMAIN = 'PHONE_USAGE'    AND ACTIVE_FLAG = 'Y'    AND EXPIRED_DATE IS NULL  ORDER BY REF_CODE.LIST_SEQ , REF_CODE.DESCRIPTION
} 

OUMAGLOC_FIND_RGAGENCYLOCATIONTYPE {
 	SELECT DESCRIPTION ,              CODE   FROM REFERENCE_CODES  WHERE DOMAIN = 'AGY_LOC_TYPE'    AND ACTIVE_FLAG = 'Y'    AND EXPIRED_DATE IS NULL
}

OUMAGLOC_FIND_RGJURISDICTION {
 	SELECT DESCRIPTION ,              CODE   FROM REFERENCE_CODES  WHERE DOMAIN = 'JURISDICTION'    AND ACTIVE_FLAG = 'Y'    AND EXPIRED_DATE IS NULL
}

OUMAGLOC_FIND_RGDISABILITYACCESSCODE {
 	SELECT CODE ,        DESCRIPTION   FROM REFERENCE_CODES  WHERE DOMAIN = 'DISABILITY'    AND ACTIVE_FLAG = 'Y'    AND EXPIRED_DATE IS NULL
}

OUMAGLOC_FIND_RGHOUSINGLEVELCODES {
 	SELECT REF_CODE.DESCRIPTION ,          REF_CODE.CODE      FROM REFERENCE_CODES REF_CODE    WHERE DOMAIN = 'LIVING_UNIT'      AND ACTIVE_FLAG = 'Y'      AND EXPIRED_DATE IS NULL ORDER BY REF_CODE.LIST_SEQ
}

OUMAGLOC_FIND_RGESTABLISHMENTTYPE {
 	SELECT REF_CODE.DESCRIPTION ,          REF_CODE.CODE      FROM REFERENCE_CODES REF_CODE    WHERE DOMAIN = 'ESTAB_TYPE'       AND ACTIVE_FLAG = 'Y'      AND EXPIRED_DATE IS NULL ORDER BY REF_CODE.LIST_SEQ
}

OUMAGLOC_AGYLOC_FIND_AGENCY_LOCATIONS {
 	SELECT AGY_LOC_ID ,DESCRIPTION ,AGENCY_LOCATION_TYPE ,DISTRICT_CODE ,ABBREVIATION ,DEACTIVATION_DATE ,CONTACT_NAME ,PRINT_QUEUE ,JURISDICTION_CODE ,BAIL_OFFICE_FLAG ,LIST_SEQ ,HOUSING_LEV_1_CODE ,HOUSING_LEV_2_CODE ,HOUSING_LEV_3_CODE ,HOUSING_LEV_4_CODE ,PROPERTY_LEV_1_CODE ,PROPERTY_LEV_2_CODE ,PROPERTY_LEV_3_CODE ,LAST_BOOKING_NO ,COMMISSARY_PRIVILEGE ,BUSINESS_HOURS ,ADDRESS_TYPE ,ACTIVE_FLAG ,DISABILITY_ACCESS_CODE ,INTAKE_FLAG ,SUB_AREA_CODE ,AREA_CODE ,NOMS_REGION_CODE ,GEOGRAPHIC_REGION_CODE ,JUSTICE_AREA_CODE ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,LONG_DESCRIPTION ,LABCORP_CLIENT_ID ,SEAL_FLAG   FROM AGENCY_LOCATIONS  
}
OUMAGLOC_AGYLOC_INSERT_AGENCY_LOCATIONS {
	INSERT INTO AGENCY_LOCATIONS(AGY_LOC_ID ,DESCRIPTION ,AGENCY_LOCATION_TYPE ,DISTRICT_CODE ,ABBREVIATION ,DEACTIVATION_DATE ,CONTACT_NAME ,PRINT_QUEUE ,JURISDICTION_CODE ,BAIL_OFFICE_FLAG ,LIST_SEQ ,HOUSING_LEV_1_CODE ,HOUSING_LEV_2_CODE ,HOUSING_LEV_3_CODE ,HOUSING_LEV_4_CODE ,PROPERTY_LEV_1_CODE ,PROPERTY_LEV_2_CODE ,PROPERTY_LEV_3_CODE ,LAST_BOOKING_NO ,COMMISSARY_PRIVILEGE ,BUSINESS_HOURS ,ADDRESS_TYPE ,ACTIVE_FLAG ,DISABILITY_ACCESS_CODE ,INTAKE_FLAG ,SUB_AREA_CODE ,AREA_CODE ,NOMS_REGION_CODE ,GEOGRAPHIC_REGION_CODE ,JUSTICE_AREA_CODE ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,LONG_DESCRIPTION ,LABCORP_CLIENT_ID ,SEAL_FLAG ) 
VALUES(:agyLocId ,:description ,:agencyLocationType ,:districtCode ,:abbreviation ,:deactivationDate ,:contactName ,:printQueue ,:jurisdictionCode ,:bailOfficeFlag ,:listSeq ,:housingLev1Code ,:housingLev2Code ,:housingLev3Code ,:housingLev4Code ,:propertyLev1Code ,:propertyLev2Code ,:propertyLev3Code ,:lastBookingNo ,:commissaryPrivilege ,:businessHours ,:addressType ,:activeFlag ,:disabilityAccessCode ,:intakeFlag ,:subAreaCode ,:areaCode ,:nomsRegionCode ,:geographicRegionCode ,:justiceAreaCode ,CURRENT_TIMESTAMP  ,:createUserId ,NULL , NULL,:longDescription ,:labcorpClientId ,:sealFlag )
}

OUMAGLOC_AGYLOC_UPDATE_AGENCY_LOCATIONS {
	UPDATE AGENCY_LOCATIONS set AGY_LOC_ID  = :agyLocId ,DESCRIPTION  = :description ,AGENCY_LOCATION_TYPE  = :agencyLocationType ,DISTRICT_CODE  = :districtCode ,ABBREVIATION  = :abbreviation ,DEACTIVATION_DATE  = :deactivationDate ,CONTACT_NAME  = :contactName ,PRINT_QUEUE  = :printQueue ,JURISDICTION_CODE  = :jurisdictionCode ,BAIL_OFFICE_FLAG  = :bailOfficeFlag ,LIST_SEQ  = :listSeq ,HOUSING_LEV_1_CODE  = :housingLev1Code ,HOUSING_LEV_2_CODE  = :housingLev2Code ,HOUSING_LEV_3_CODE  = :housingLev3Code ,HOUSING_LEV_4_CODE  = :housingLev4Code ,PROPERTY_LEV_1_CODE  = :propertyLev1Code ,PROPERTY_LEV_2_CODE  = :propertyLev2Code ,PROPERTY_LEV_3_CODE  = :propertyLev3Code ,LAST_BOOKING_NO  = :lastBookingNo ,COMMISSARY_PRIVILEGE  = :commissaryPrivilege ,BUSINESS_HOURS  = :businessHours ,ADDRESS_TYPE  = :addressType ,ACTIVE_FLAG  = :activeFlag ,DISABILITY_ACCESS_CODE  = :disabilityAccessCode ,INTAKE_FLAG  = :intakeFlag ,SUB_AREA_CODE  = :subAreaCode ,AREA_CODE  = :areaCode ,NOMS_REGION_CODE  = :nomsRegionCode ,GEOGRAPHIC_REGION_CODE  = :geographicRegionCode ,JUSTICE_AREA_CODE  = :justiceAreaCode ,MODIFY_DATETIME  = CURRENT_TIMESTAMP ,MODIFY_USER_ID  = :modifyUserId ,LONG_DESCRIPTION  = :longDescription ,LABCORP_CLIENT_ID  = :labcorpClientId ,SEAL_FLAG  = :sealFlag where AGY_LOC_ID  = :agyLocId
}

OUMAGLOC_VAGYADDR_FIND_V_AGENCY_ADDRESSES {
 	select
	ADDRESS_ID ,
	ADDRESS_TYPE ,
	ADDRESS_TYPE_DESC ,
	AGY_LOC_ID ,
	START_DATE ,
	END_DATE ,
	ACTIVE_FLAG ,
	HOUSE ,
	STREET ,
	AREA ,
	COUNTRY ,
	SUITE_NUMBER ,
	STREET_NUMBER ,
	STREET_DIRECTION ,
	STREET_DIRECTION_DESC ,
	STREET_INFORMATION ,
	CITY_CODE ,
	CITY_NAME ,
	PROV_STATE_CODE ,
	PROV_STATE_DESC ,
	ZIP_POSTAL_CODE ,
	COUNTRY_CODE ,
	COMMENT_TEXT ,
	PRIMARY_FLAG ,
	MAIL_FLAG ,
	VALIDATED_FLAG ,
	MAIL_CARE_OF,
	IS_ADDRESS_VALID,
	ADDRESS_LINE1 
from
	V_AGENCY_ADDRESSES
where
	AGY_LOC_ID = :agyLocId
order by
	primary_flag desc,
	mail_flag desc,
	active_flag desc,
	coalesce ( start_date,
	'01-JAN-1900' ) desc
}
OUMAGLOC_PHONES_FIND_PHONES {
 	SELECT PHONE_ID ,OWNER_CLASS ,OWNER_ID ,OWNER_SEQ ,OWNER_CODE ,PHONE_TYPE ,PHONE_NO ,EXT_NO ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,SEAL_FLAG ,FORMAT  FROM PHONES   where OWNER_ID = :ownerId and OWNER_CLASS='ADDR'
}
OUMAGLOC_PHONES_INSERT_PHONES {
	INSERT INTO PHONES(PHONE_ID ,OWNER_CLASS ,OWNER_ID ,OWNER_SEQ ,OWNER_CODE ,PHONE_TYPE ,PHONE_NO ,EXT_NO ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,SEAL_FLAG,FORMAT ) VALUES(:phoneId ,:ownerClass ,:ownerId ,:ownerSeq ,:ownerCode ,:phoneType ,:phoneNo ,:extNo ,CURRENT_TIMESTAMP ,:createUserId ,NULL ,NULL ,:sealFlag ,:format)
} 

OUMAGLOC_PHONES_UPDATE_PHONES {
	UPDATE PHONES set PHONE_ID  = :phoneId ,OWNER_CLASS  = :ownerClass ,OWNER_ID  = :ownerId ,OWNER_SEQ  = :ownerSeq ,OWNER_CODE  = :ownerCode ,PHONE_TYPE  = :phoneType ,PHONE_NO  = :phoneNo ,EXT_NO  = :extNo,MODIFY_DATETIME  = CURRENT_TIMESTAMP ,MODIFY_USER_ID  = :modifyUserId ,SEAL_FLAG  = :sealFlag,FORMAT=:format where PHONE_ID=:phoneId
} 

OUMAGLOC_PHONES_DELETE_PHONES { 
	DELETE FROM PHONES where PHONE_ID = :phoneId
} 

OUMAGLOC_AGYLOCEST_FIND_AGY_LOC_ESTABLISHMENTS {
 	SELECT AGY_LOC_ID ,ESTABLISHMENT_TYPE ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,SEAL_FLAG   FROM AGY_LOC_ESTABLISHMENTS   where  AGY_LOC_ID = :agyLocId
}
OUMAGLOC_AGYLOCEST_INSERT_AGY_LOC_ESTABLISHMENTS {
	INSERT INTO AGY_LOC_ESTABLISHMENTS(AGY_LOC_ID ,ESTABLISHMENT_TYPE ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,SEAL_FLAG ) 
	VALUES(:agyLocId ,:establishmentType ,CURRENT_TIMESTAMP,:createUserId ,NULL ,NULL ,:sealFlag )
} 

OUMAGLOC_AGYLOCEST_UPDATE_AGY_LOC_ESTABLISHMENTS {
	UPDATE AGY_LOC_ESTABLISHMENTS set AGY_LOC_ID  = :agyLocId ,ESTABLISHMENT_TYPE  = :establishmentType ,MODIFY_DATETIME  = CURRENT_TIMESTAMP ,MODIFY_USER_ID  = :modifyUserId ,SEAL_FLAG  = :sealFlag  where AGY_LOC_ID = :agyLocId and ESTABLISHMENT_TYPE  = :establishmentType
} 

OUMAGLOC_AGYLOCEST_DELETE_AGY_LOC_ESTABLISHMENTS { 
	DELETE FROM AGY_LOC_ESTABLISHMENTS A WHERE A.AGY_LOC_ID = :agyLocId and ESTABLISHMENT_TYPE  = :establishmentType
} 


OUMAGLOC_AGY_LOC_ONCHECKDELETEMASTER_ {
	SELECT 1 FROM V_AGENCY_ADDRESSES V WHERE V.AGY_LOC_ID = :AGYLOCID
}

OUMAGLOC_AGY_LOC_ONCHECKDELETEMASTER_ {
	SELECT 1 FROM AGY_LOC_ESTABLISHMENTS A WHERE A.AGY_LOC_ID = :AGYLOCID
}

OUMAGLOC_V_AGY_ADDR_ONCHECKDELETEMASTER_ {
	SELECT 1 FROM PHONES P WHERE P.OWNER_ID = :ADDRESSID
}

OUMAGLOC_PHONES_PREINSERT_ {
 SELECT nextval('PHONE_ID') from dual
}

OUMAGLOC_FIND_RGYNFLAG {
 	SELECT REF_CODE.DESCRIPTION ,          REF_CODE.CODE      FROM REFERENCE_CODES REF_CODE    WHERE DOMAIN = 'FLAG'       AND ACTIVE_FLAG = 'Y'      AND EXPIRED_DATE IS NULL ORDER BY REF_CODE.LIST_SEQ
}


OUMAGLOC_FIND_OLD{
	SELECT * FROM AGENCY_LOCATIONS where AGY_LOC_ID=:AGY_LOC_ID
}

OUMAGLOC_INSERT_IEP_DATA{
insert into agy_loc_iep_levels(agy_loc_id,iep_level_code,create_datetime,create_user_id,modify_datetime,modify_user_id,seal_flag) values(:agyLocId,:iepLevelCode,current_timestamp,:createUserId,NULL,NULL,:sealFlag)
}

OUMAGLOC_UPDATE_IEP_DATA{
update agy_loc_iep_levels set iep_level_code=:iepLevelCode, modify_datetime = CURRENT_TIMESTAMP,MODIFY_USER_ID=:modifyUserId where agy_loc_id =:agyLocId 
}

OUMAGLOC_FETCH_IEP_DATA{
select agy_loc_id,iep_level_code,create_datetime,create_user_id,modify_datetime,modify_user_id,seal_flag from agy_loc_iep_levels alil where agy_loc_id =:agyLocId
}


OUMAGLOC_DELETE_IEP_DATA{
delete from agy_loc_iep_levels where agy_loc_id =:agyLocId 
}




