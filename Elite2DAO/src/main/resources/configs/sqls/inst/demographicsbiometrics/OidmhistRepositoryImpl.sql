
OIDMHIST_FIND_RGWARZONE {
 	SELECT
  REF_CODE.DESCRIPTION, REF_CODE.CODE
FROM REFERENCE_CODES REF_CODE
WHERE
  DOMAIN = 'MLTY_WZONE' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))

}

OIDMHIST_FIND_RGMLTYTECH {
 	SELECT
  REF_CODE.CODE , REF_CODE.DESCRIPTION
FROM REFERENCE_CODES REF_CODE
WHERE
  DOMAIN = 'MLTY_TECH' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))

}

OIDMHIST_FIND_RGMILITARYRANK {
 	SELECT
  REF_CODE1.CODE , REF_CODE1.DESCRIPTION, REF_CODE1.ACTIVE_FLAG
FROM REFERENCE_CODES REF_CODE1
WHERE
  DOMAIN = 'MLTY_RANK' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))
}

OIDMHIST_FIND_RGMILITARYDISCHARGE {
 	SELECT
  REF_CODE2.CODE , REF_CODE2.DESCRIPTION
FROM REFERENCE_CODES REF_CODE2
WHERE
  DOMAIN = 'MLTY_DSCHRG' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))

}

OIDMHIST_FIND_RGMILITARYBRANCH {
SELECT
  REF_CODE3.CODE , REF_CODE3.DESCRIPTION
FROM REFERENCE_CODES REF_CODE3
WHERE
  DOMAIN = 'MLTY_BRANCH' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))

}

OIDMHIST_FIND_RGDISCIPLINARYACTION {
 	SELECT
  REF_CODE4.CODE , REF_CODE4.DESCRIPTION
FROM REFERENCE_CODES REF_CODE4
WHERE
  DOMAIN = 'MLTY_DISCP' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))

}

OIDMHIST_FIND_RGHIGHSTRANK {
 	SELECT
  REF_CODE1.CODE, REF_CODE1.DESCRIPTION
FROM REFERENCE_CODES REF_CODE1
WHERE
  DOMAIN = 'MLTY_RANK' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))

}

OIDMHIST_OFFMR_FIND_OFFENDER_MILITARY_RECORDS {
 	SELECT
  OFFENDER_BOOK_ID, MILITARY_SEQ, START_DATE, END_DATE, MILITARY_DISCHARGE_CODE,
  MILITARY_BRANCH_CODE, DESCRIPTION, UNIT_NUMBER, ENLISTMENT_LOCATION,
  DISCHARGE_LOCATION, SELECTIVE_SERVICES_FLAG, MILITARY_RANK_CODE,
  SERVICE_NUMBER, DISCIPLINARY_ACTION_CODE, HIGHEST_RANK_ATTAINED,
  CREATE_DATETIME, CREATE_USER_ID, MODIFY_DATETIME, MODIFY_USER_ID, SEAL_FLAG
FROM OFFENDER_MILITARY_RECORDS
WHERE
  OFFENDER_BOOK_ID = :offenderBookId

}
OIDMHIST_OFFMR_INSERT_OFFENDER_MILITARY_RECORDS {
insert into OFFENDER_MILITARY_RECORDS(OFFENDER_BOOK_ID , MILITARY_SEQ , START_DATE , END_DATE , MILITARY_DISCHARGE_CODE , MILITARY_BRANCH_CODE , DESCRIPTION , UNIT_NUMBER , ENLISTMENT_LOCATION , DISCHARGE_LOCATION , SELECTIVE_SERVICES_FLAG , MILITARY_RANK_CODE , SERVICE_NUMBER , DISCIPLINARY_ACTION_CODE , HIGHEST_RANK_ATTAINED , CREATE_DATETIME , CREATE_USER_ID , MODIFY_DATETIME , SEAL_FLAG ) values(:offenderBookId , :militarySeq , :startDate , :endDate , :militaryDischargeCode , :militaryBranchCode , :description , :unitNumber , :enlistmentLocation , :dischargeLocation , :selectiveServicesFlag , :militaryRankCode , :serviceNumber , :disciplinaryActionCode , :highestRankAttained , CURRENT_TIMESTAMP , :createUserId , NULL , :sealFlag ) 
}  

OIDMHIST_OFFMR_UPDATE_OFFENDER_MILITARY_RECORDS {
update OFFENDER_MILITARY_RECORDS set OFFENDER_BOOK_ID = :offenderBookId , MILITARY_SEQ = :militarySeq , START_DATE = :startDate , END_DATE = :endDate , MILITARY_DISCHARGE_CODE = :militaryDischargeCode , MILITARY_BRANCH_CODE = :militaryBranchCode , DESCRIPTION = :description , UNIT_NUMBER = :unitNumber , ENLISTMENT_LOCATION = :enlistmentLocation , DISCHARGE_LOCATION = :dischargeLocation , SELECTIVE_SERVICES_FLAG = :selectiveServicesFlag , MILITARY_RANK_CODE = :militaryRankCode , SERVICE_NUMBER = :serviceNumber , DISCIPLINARY_ACTION_CODE = :disciplinaryActionCode , HIGHEST_RANK_ATTAINED = :highestRankAttained , MODIFY_DATETIME = CURRENT_TIMESTAMP , MODIFY_USER_ID = :modifyUserId , SEAL_FLAG = :sealFlag where OFFENDER_BOOK_ID = :offenderBookId and MILITARY_SEQ = :militarySeq
}  

OIDMHIST_OFFMR_DELETE_OFFENDER_MILITARY_RECORDS { 
	DELETE FROM OFFENDER_MILITARY_RECORDS WHERE OFFENDER_BOOK_ID  = :offenderBookId AND MILITARY_SEQ  = :militarySeq
}  

OIDMHIST_DISACT_FIND_OFFENDER_MILITARY_DISC_ACTIONS {
 	SELECT OFFENDER_BOOK_ID ,MILITARY_SEQ ,MLTY_DISCP_SEQ ,MLTY_DISCP_CODE ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,SEAL_FLAG   FROM OFFENDER_MILITARY_DISC_ACTIONS WHERE OFFENDER_BOOK_ID = :offenderBookId AND MILITARY_SEQ = :militarySeq
}
OIDMHIST_DISACT_INSERT_OFFENDER_MILITARY_DISC_ACTIONS {
insert into OFFENDER_MILITARY_DISC_ACTIONS(OFFENDER_BOOK_ID , MILITARY_SEQ , MLTY_DISCP_SEQ , MLTY_DISCP_CODE , CREATE_DATETIME , CREATE_USER_ID , MODIFY_DATETIME , SEAL_FLAG ) values(:offenderBookId , :militarySeq , :mltyDiscpSeq , :mltyDiscpCode , CURRENT_TIMESTAMP , :createUserId , NULL , :sealFlag ) 
} 

OIDMHIST_DISACT_UPDATE_OFFENDER_MILITARY_DISC_ACTIONS {
update OFFENDER_MILITARY_DISC_ACTIONS set OFFENDER_BOOK_ID = :offenderBookId , MILITARY_SEQ = :militarySeq , MLTY_DISCP_SEQ = :mltyDiscpSeq , MLTY_DISCP_CODE = :mltyDiscpCode , MODIFY_DATETIME = CURRENT_TIMESTAMP , MODIFY_USER_ID = :modifyUserId , SEAL_FLAG = :sealFlag where OFFENDER_BOOK_ID = :offenderBookId and MILITARY_SEQ = :militarySeq and MLTY_DISCP_SEQ = :mltyDiscpSeq
}  

OIDMHIST_DISACT_DELETE_OFFENDER_MILITARY_DISC_ACTIONS { 
	DELETE FROM OFFENDER_MILITARY_DISC_ACTIONS WHERE OFFENDER_BOOK_ID  = :offenderBookId AND MILITARY_SEQ  = :militarySeq AND MLTY_DISCP_SEQ  = :mltyDiscpSeq
}  

OIDMHIST_TECHSPEC_FIND_OFFENDER_MILITARY_TECH_SPECS {
 	SELECT OFFENDER_BOOK_ID ,MILITARY_SEQ ,MLTY_TECH_SEQ ,TECH_SPEC_CODE ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,SEAL_FLAG   FROM OFFENDER_MILITARY_TECH_SPECS  WHERE OFFENDER_BOOK_ID = :offenderBookId AND MILITARY_SEQ = :militarySeq
}
OIDMHIST_TECHSPEC_INSERT_OFFENDER_MILITARY_TECH_SPECS {
insert into OFFENDER_MILITARY_TECH_SPECS(OFFENDER_BOOK_ID , MILITARY_SEQ , MLTY_TECH_SEQ , TECH_SPEC_CODE , CREATE_DATETIME , CREATE_USER_ID , MODIFY_DATETIME , SEAL_FLAG ) values(:offenderBookId , :militarySeq , :mltyTechSeq , :techSpecCode , CURRENT_TIMESTAMP , :createUserId , NULL , :sealFlag ) 
} 

OIDMHIST_TECHSPEC_UPDATE_OFFENDER_MILITARY_TECH_SPECS {
update OFFENDER_MILITARY_TECH_SPECS set OFFENDER_BOOK_ID = :offenderBookId , MILITARY_SEQ = :militarySeq , MLTY_TECH_SEQ = :mltyTechSeq , TECH_SPEC_CODE = :techSpecCode , MODIFY_DATETIME = CURRENT_TIMESTAMP , MODIFY_USER_ID = :modifyUserId , SEAL_FLAG = :sealFlag where OFFENDER_BOOK_ID = :offenderBookId and MILITARY_SEQ = :militarySeq and MLTY_TECH_SEQ = :mltyTechSeq
} 

OIDMHIST_TECHSPEC_DELETE_OFFENDER_MILITARY_TECH_SPECS { 
	DELETE FROM OFFENDER_MILITARY_TECH_SPECS WHERE OFFENDER_BOOK_ID  = :offenderBookId AND MILITARY_SEQ  = :militarySeq AND MLTY_TECH_SEQ  = :mltyTechSeq
} 

OIDMHIST_WARZONES_FIND_OFFENDER_MILITARY_WAR_ZONES {
 	SELECT OFFENDER_BOOK_ID ,MILITARY_SEQ ,WAR_SEQ ,WAR_ZONE_CODE ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,MODIFY_USER_ID ,SEAL_FLAG   FROM OFFENDER_MILITARY_WAR_ZONES  WHERE OFFENDER_BOOK_ID = :offenderBookId AND MILITARY_SEQ = :militarySeq
}
OIDMHIST_WARZONES_INSERT_OFFENDER_MILITARY_WAR_ZONES {
insert into OFFENDER_MILITARY_WAR_ZONES(OFFENDER_BOOK_ID , MILITARY_SEQ , WAR_SEQ , WAR_ZONE_CODE , CREATE_DATETIME , CREATE_USER_ID , MODIFY_DATETIME , SEAL_FLAG ) values(:offenderBookId , :militarySeq , :warSeq , :warZoneCode , CURRENT_TIMESTAMP , :createUserId , NULL , :sealFlag ) 
} 

OIDMHIST_WARZONES_UPDATE_OFFENDER_MILITARY_WAR_ZONES {
update OFFENDER_MILITARY_WAR_ZONES set OFFENDER_BOOK_ID = :offenderBookId , MILITARY_SEQ = :militarySeq , WAR_SEQ = :warSeq , WAR_ZONE_CODE = :warZoneCode , MODIFY_DATETIME = CURRENT_TIMESTAMP , MODIFY_USER_ID = :modifyUserId , SEAL_FLAG = :sealFlag where OFFENDER_BOOK_ID = :offenderBookId and MILITARY_SEQ = :militarySeq and WAR_SEQ = :warSeq
} 

OIDMHIST_WARZONES_DELETE_OFFENDER_MILITARY_WAR_ZONES { 
	DELETE FROM OFFENDER_MILITARY_WAR_ZONES WHERE OFFENDER_BOOK_ID  = :offenderBookId AND MILITARY_SEQ  = :militarySeq AND WAR_SEQ  = :warSeq
} 

OIDMHIST_SYSPFL_FIND_SYSTEM_PROFILES {
 	SELECT PROFILE_TYPE ,PROFILE_CODE ,DESCRIPTION ,PROFILE_VALUE ,PROFILE_VALUE_2 ,MODIFY_USER_ID ,OLD_TABLE_NAME ,CREATE_DATETIME ,CREATE_USER_ID ,MODIFY_DATETIME ,SEAL_FLAG   FROM SYSTEM_PROFILES  /* where  */
}

OIDMHIST_OFF_BKG_ONCHECKDELETEMASTER_ {
	SELECT 1 FROM OFFENDER_MILITARY_RECORDS O WHERE O.OFFENDER_BOOK_ID = :OFFENDERBOOKID
}

OIDMHIST_OFF_MR_POSTQUERY {
	SELECT DESCRIPTION FROM REFERENCE_CODES WHERE DOMAIN = :P_DOMAIN AND CODE = :P_CODE
}

OIDMHIST_OFF_WAR_ZONES_ONCHECKDELETEMASTER {
	SELECT 1 FROM OFFENDER_MILITARY_WAR_ZONES O WHERE O.OFFENDER_BOOK_ID = :OFFENDERBOOKID AND O.MILITARY_SEQ = :MILITARYSEQ
}

OIDMHIST_OFF_TECH_SPECS_ONCHECKDELETEMASTER {
	SELECT 1 FROM OFFENDER_MILITARY_TECH_SPECS O WHERE O.OFFENDER_BOOK_ID = :OFFENDERBOOKID AND O.MILITARY_SEQ = :MILITARYSEQ
}

OIDMHIST_OFF_DISC_ACTIONS_ONCHECKDELETEMASTER {
	SELECT 1 FROM OFFENDER_MILITARY_DISC_ACTIONS O WHERE O.OFFENDER_BOOK_ID = :OFFENDERBOOKID AND O.MILITARY_SEQ = :MILITARYSEQ
}

OIDMHIST_DIS_ACT_POSTQUERY {
	SELECT DESCRIPTION FROM REFERENCE_CODES WHERE DOMAIN = :P_DOMAIN AND CODE = :P_CODE
}

OIDMHIST_TECH_SPEC_POSTQUERY {
	SELECT DESCRIPTION FROM REFERENCE_CODES WHERE DOMAIN = :P_DOMAIN AND CODE = :P_CODE
}

OIDMHIST_WAR_ZONES_POSTQUERY {
	SELECT DESCRIPTION FROM REFERENCE_CODES WHERE DOMAIN = :P_DOMAIN AND CODE = :P_CODE
}

OIDMHIST_CGFKCHK_OFF_MR_OFF_MR_REF_2 {
	SELECT REF_CODE3.DESCRIPTION, REF_CODE3.CODE FROM   REFERENCE_CODES REF_CODE3 WHERE DOMAIN = 'MLTY_BRANCH'
}

OIDMHIST_CGFKCHK_OFF_MR_OFF_MR_REF_3 {
	SELECT REF_CODE2.DESCRIPTION, REF_CODE2.CODE FROM   REFERENCE_CODES REF_CODE2 WHERE DOMAIN = 'MLTY_DSCHRG'
}

OIDMHIST_CGFKCHK_OFF_MR_OFF_MR_REF_4 {
	SELECT
  REF_CODE1.DESCRIPTION, REF_CODE1.CODE
FROM REFERENCE_CODES REF_CODE1
WHERE
  DOMAIN = 'MLTY_RANK' AND
  ((ACTIVE_FLAG = 'Y' AND EXPIRED_DATE IS NULL ))

}

OIDMHIST_CGWHEN_NEW_FORM_INSTANCE {
	SELECT  SYSDATE(), upper(USER) FROM DUAL
}

OIDRPITM_OFF_MR_PREINSERT_C {
   SELECT coalesce (MAX(MILITARY_SEQ), 0) + 1 FROM  OFFENDER_MILITARY_RECORDS  WHERE OFFENDER_BOOK_ID = :offenderBookId
}

OIDRPITM_OFF_DIS_ART_PREINSERT_C {
   SELECT coalesce (MAX(MLTY_DISCP_SEQ), 0) + 1 FROM  OFFENDER_MILITARY_DISC_ACTIONS  WHERE OFFENDER_BOOK_ID = :offenderBookId
}

OIDRPITM_OFF_TEC_SPEC_PREINSERT_C {
   SELECT coalesce (MAX(MLTY_TECH_SEQ), 0) + 1 FROM  OFFENDER_MILITARY_TECH_SPECS  WHERE OFFENDER_BOOK_ID = :offenderBookId
}

OIDRPITM_OFF_WAR_ZONES_PREINSERT_C {
   SELECT coalesce (MAX(WAR_SEQ), 0) + 1 FROM  OFFENDER_MILITARY_WAR_ZONES  WHERE OFFENDER_BOOK_ID = :offenderBookId
}
